<h2 *ngIf="!is_edit">Crear entrada</h2>
<h2 *ngIf="is_edit">Editar entrada</h2>

<form action="#" #createPostForm="ngForm" (ngSubmit)="onSubmit(createPostForm)">
   <p class="alert alert-danger" *ngIf="status == 'error'">No se pudo crear la entrada</p>
   <p class="alert alert-success" *ngIf="status == 'success'">Entrada creada exitosamente</p>

    <div class="form-group">
        <label for="title">Titulo:</label>
        <input type="text" name="title" class="form-control" #title="ngModel" [(ngModel)]="post.title" 
        required>

        <small *ngIf="!title.valid && title.touched" class="invalid-feedback d-block">
            El titulo no es valido
        </small>
    </div>

    <div class="form-group">
        <label for="categories">Titulo:</label>
        <select name="categories" #category="ngModel" [(ngModel)]="post.category_id">

            <option *ngFor="let category of categories"  value="{{category.id}}" 
                [selected]="category.id == post.category_id"
            >
                {{category.name}}
            </option>

        </select>

        
    </div>

    <div class="form-group">
        <label for="content">Contenido:</label>
        <textarea [froalaEditor]="options" name="content" class="form-control" #content="ngModel" [(ngModel)]="post.content" required>
        </textarea>
       
    </div>

    <div class="form-group">
        <div *ngIf="is_edit && post.image">
            <img src="{{url+'post/getImage/'+post.image}}" alt="" class="avatar-form">
        </div>
        <label for="image">Imagen:</label>
        <angular-file-uploader 
            [config]="afuConfig"
            (ApiResponse)="PostImageUpload($event)">
        </angular-file-uploader>    
       
    </div>
    
    <input type="submit" value="Guardar" class="btn btn-success" [disabled]="createPostForm.invalid">

</form>
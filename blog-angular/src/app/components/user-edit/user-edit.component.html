<h2>Ajustes de usuario</h2>
<!--
<p class="alert alert-success" *ngIf="status == 'success'">Registrado exitosamente </p>
-->
<form action="#" #userEditForm="ngForm" (ngSubmit)="onSubmit(userEditForm)">
    <div class="form-group">
        <label for="name">Nombre:</label>
        <input type="text" name="name" class="form-control" #name="ngModel" [(ngModel)]="user.name" 
        required pattern="[a-zA-Z]+">

        <small *ngIf="!name.valid && name.touched" class="invalid-feedback d-block">
            El nombre no es valido
        </small>
    </div>

    <div class="form-group">
        <label for="surname">Apellido:</label>
        <input type="text" name="surname" class="form-control" #surname="ngModel" [(ngModel)]="user.surname" 
        required pattern="[a-zA-Z]+">

        <small *ngIf="!surname.valid && surname.touched" class="invalid-feedback d-block">
            El apellido no es valido
        </small>
    </div>

    <div class="form-group">
        <label for="email">Email:</label>
        <input type="email" name="email" class="form-control" #email="ngModel" [(ngModel)]="user.email" 
        required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">

        <small *ngIf="!email.valid && email.touched" class="invalid-feedback d-block">
            El email no es valido
        </small>
    </div>

    <div class="form-group">
        <label for="description">Biografia:</label>
        <textarea [froalaEditor]="options" type="text" name="description" class="form-control" #description="ngModel" [(ngModel)]="user.description">
            {{user.description}}
        </textarea>
       
    </div>

    <div *ngIf="identity && identity.image">
        <img src="{{ url+'getImage/'+identity.image }}" alt="" class="avatar-form">
    </div>
    <div class="form-group">
        <label for="image">Imagen:</label>
        <angular-file-uploader 
            [config]="afuConfig"
            (ApiResponse)="AvatarUpload($event)">
        </angular-file-uploader>    
       
    </div>

    
    <input type="submit" value="Actualizar" class="btn btn-success" [disabled]="userEditForm.invalid">

</form>